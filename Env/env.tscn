[gd_scene load_steps=26 format=3 uid="uid://dfqiys725ldk5"]

[ext_resource type="Script" path="res://Env/env.gd" id="1_1kl1v"]
[ext_resource type="PackedScene" uid="uid://c5hyq75tmdhnk" path="res://Env/power_up.tscn" id="2_lgmxi"]
[ext_resource type="PackedScene" uid="uid://d4gdm6vuggd4o" path="res://Assets/Player/player.tscn" id="2_mhofc"]
[ext_resource type="Script" path="res://Assets/Player/player2.gd" id="4_3vcio"]
[ext_resource type="Texture2D" uid="uid://chrhu3lbeiqi3" path="res://Assets/Images/empty_heart.png" id="6_0tdbe"]
[ext_resource type="Texture2D" uid="uid://cqn4m2yuy5wwp" path="res://Assets/Images/1_heart.png" id="6_ui3yy"]
[ext_resource type="Texture2D" uid="uid://cqpibo38ajdlp" path="res://Assets/Images/2_hearts.png" id="7_r2dux"]
[ext_resource type="Texture2D" uid="uid://dvohpwfaeigqx" path="res://Assets/Images/3_hearts.png" id="8_3836g"]
[ext_resource type="Texture2D" uid="uid://bkl64ey8prwfe" path="res://Assets/Images/no_hearts.png" id="8_cv588"]
[ext_resource type="PackedScene" uid="uid://ufxn0inx3ywk" path="res://Env/wall.tscn" id="8_exoib"]
[ext_resource type="Script" path="res://Env/Player1_Lives.gd" id="9_emk5r"]
[ext_resource type="Texture2D" uid="uid://2t3o5svty3ph" path="res://Assets/Images/4_hearts.png" id="9_k8ydo"]
[ext_resource type="Texture2D" uid="uid://bxd5x5k43en1r" path="res://Assets/Images/5_hearts.png" id="10_14637"]
[ext_resource type="Script" path="res://Env/Player2_Lives.gd" id="10_edef5"]
[ext_resource type="Texture2D" uid="uid://c84cesydxo8bp" path="res://Assets/Images/6_hearts.png" id="11_bueh4"]
[ext_resource type="Texture2D" uid="uid://dbomvba1eb0vw" path="res://Assets/Images/wallEnd.png" id="12_55shr"]
[ext_resource type="Texture2D" uid="uid://yp1im7s51b7q" path="res://Assets/Images/wallCorner.png" id="12_g6san"]
[ext_resource type="Texture2D" uid="uid://dg4jktsfcttur" path="res://Assets/Images/wallMid.png" id="12_mogru"]
[ext_resource type="Texture2D" uid="uid://03736il4p3ju" path="res://Assets/Images/7_hearts.png" id="12_y5sma"]
[ext_resource type="Texture2D" uid="uid://c5nu70b5uuqjp" path="res://Assets/Images/8_hearts.png" id="13_rkbgl"]
[ext_resource type="Texture2D" uid="uid://bmnatv74ky03" path="res://Assets/Images/9_hearts.png" id="14_natch"]
[ext_resource type="Texture2D" uid="uid://dltdmpx6f2s8q" path="res://Assets/Images/full_hearts.png" id="15_y33h3"]
[ext_resource type="Texture2D" uid="uid://cbup4825jonhc" path="res://Assets/Images/Gamebackground.png" id="15_yu1av"]

[sub_resource type="SpriteFrames" id="SpriteFrames_1kmhf"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_cv588")
}, {
"duration": 1.0,
"texture": ExtResource("6_0tdbe")
}, {
"duration": 1.0,
"texture": ExtResource("6_ui3yy")
}, {
"duration": 1.0,
"texture": ExtResource("7_r2dux")
}, {
"duration": 1.0,
"texture": ExtResource("8_3836g")
}, {
"duration": 1.0,
"texture": ExtResource("9_k8ydo")
}, {
"duration": 1.0,
"texture": ExtResource("10_14637")
}, {
"duration": 1.0,
"texture": ExtResource("11_bueh4")
}, {
"duration": 1.0,
"texture": ExtResource("12_y5sma")
}, {
"duration": 1.0,
"texture": ExtResource("13_rkbgl")
}, {
"duration": 1.0,
"texture": ExtResource("14_natch")
}, {
"duration": 1.0,
"texture": ExtResource("15_y33h3")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_1544h"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_cv588")
}, {
"duration": 1.0,
"texture": ExtResource("6_0tdbe")
}, {
"duration": 1.0,
"texture": ExtResource("6_ui3yy")
}, {
"duration": 1.0,
"texture": ExtResource("7_r2dux")
}, {
"duration": 1.0,
"texture": ExtResource("8_3836g")
}, {
"duration": 1.0,
"texture": ExtResource("9_k8ydo")
}, {
"duration": 1.0,
"texture": ExtResource("10_14637")
}, {
"duration": 1.0,
"texture": ExtResource("11_bueh4")
}, {
"duration": 1.0,
"texture": ExtResource("12_y5sma")
}, {
"duration": 1.0,
"texture": ExtResource("13_rkbgl")
}, {
"duration": 1.0,
"texture": ExtResource("14_natch")
}, {
"duration": 1.0,
"texture": ExtResource("15_y33h3")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="Env" type="Node2D"]
script = ExtResource("1_1kl1v")
power_up = ExtResource("2_lgmxi")

[node name="powerUpTimer" type="Timer" parent="."]
autostart = true

[node name="Player1" parent="." instance=ExtResource("2_mhofc")]
position = Vector2(-1448, 0)
motion_mode = 0
wall_min_slide_angle = 0.261799
platform_on_leave = 0
speed = 1500
turret_cd = 0.25

[node name="Player2" parent="." instance=ExtResource("2_mhofc")]
position = Vector2(1392, 8)
motion_mode = 0
wall_min_slide_angle = 0.261799
platform_on_leave = 0
script = ExtResource("4_3vcio")
speed = 1000
turret_cd = 0.25

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(2.08165e-12, 2.08165e-12)
zoom = Vector2(0.5, 0.5)

[node name="Lives" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="Player1" type="AnimatedSprite2D" parent="Lives"]
top_level = true
position = Vector2(-1400, -970)
scale = Vector2(4.5, 4.207)
sprite_frames = SubResource("SpriteFrames_1kmhf")
frame = 11
speed_scale = 2.08165e-12
script = ExtResource("9_emk5r")

[node name="P1DeathTimer" type="Timer" parent="Lives/Player1"]
wait_time = 2.0

[node name="Player2" type="AnimatedSprite2D" parent="Lives"]
top_level = true
position = Vector2(1400, -970)
scale = Vector2(4.5, 4.493)
sprite_frames = SubResource("SpriteFrames_1544h")
frame = 10
speed_scale = 2.08165e-12
script = ExtResource("10_edef5")

[node name="P2DeathTimer" type="Timer" parent="Lives/Player2"]
wait_time = 2.0

[node name="WallB1" parent="." instance=ExtResource("8_exoib")]
position = Vector2(-1996, 2.49994)
scale = Vector2(0.1375, 4.71042)

[node name="WallB2" parent="." instance=ExtResource("8_exoib")]
position = Vector2(2.08165e-12, -1148)
scale = Vector2(6.28906, 0.183334)

[node name="WallB3" parent="." instance=ExtResource("8_exoib")]
position = Vector2(2010.5, 8.99992)
scale = Vector2(0.157812, 4.725)

[node name="WallB4" parent="." instance=ExtResource("8_exoib")]
position = Vector2(2.00009, 1127)
scale = Vector2(6.2875, 0.116667)

[node name="Wall3" parent="." instance=ExtResource("8_exoib")]
position = Vector2(-1405, 594)
scale = Vector2(0.291992, 0.747559)

[node name="Wall22" parent="Wall3" instance=ExtResource("8_exoib")]
position = Vector2(766.159, 224.739)
scale = Vector2(3.41667, 0.467072)

[node name="Sprite2D" type="Sprite2D" parent="Wall3/Wall22"]
position = Vector2(-148.776, -124.017)
rotation = -1.5708
scale = Vector2(16.534, 6.8844)
texture = ExtResource("12_g6san")

[node name="Sprite2D2" type="Sprite2D" parent="Wall3/Wall22/Sprite2D"]
position = Vector2(-8.42941, 50.7776)
rotation = -3.14159
scale = Vector2(0.996903, 0.877295)
texture = ExtResource("12_55shr")

[node name="Sprite2D3" type="Sprite2D" parent="Wall3/Wall22/Sprite2D"]
position = Vector2(39.3227, -11.4421)
rotation = 1.5708
scale = Vector2(0.999338, 0.634782)
texture = ExtResource("12_55shr")

[node name="Wall1" parent="." instance=ExtResource("8_exoib")]
position = Vector2(-442, 123)
scale = Vector2(0.294958, 1.42604)

[node name="WallTex1" type="Sprite2D" parent="Wall1"]
position = Vector2(0.728971, -168.51)
scale = Vector2(20.5296, 3.41838)
texture = ExtResource("12_55shr")

[node name="WallTex1" type="Sprite2D" parent="Wall1/WallTex1"]
position = Vector2(0.575706, 48.6966)
scale = Vector2(1.01181, 0.980194)
texture = ExtResource("12_mogru")

[node name="WallTex2" type="Sprite2D" parent="Wall1/WallTex1"]
position = Vector2(0.149185, 101.865)
rotation = -3.14159
scale = Vector2(1.00858, 1.00858)
texture = ExtResource("12_55shr")

[node name="Wall2" parent="." instance=ExtResource("8_exoib")]
position = Vector2(-1238.7, -552.028)
rotation = 1.5708
scale = Vector2(0.242895, 0.906011)

[node name="WallTex1" type="Sprite2D" parent="Wall2"]
position = Vector2(0.728971, -168.51)
scale = Vector2(20.5296, 3.41838)
texture = ExtResource("12_55shr")

[node name="WallTex1" type="Sprite2D" parent="Wall2/WallTex1"]
position = Vector2(0.459927, 49.9108)
scale = Vector2(1.01181, 0.980194)
texture = ExtResource("12_mogru")

[node name="WallTex2" type="Sprite2D" parent="Wall2/WallTex1"]
position = Vector2(0.149185, 101.865)
rotation = -3.14159
scale = Vector2(1.00858, 1.00858)
texture = ExtResource("12_55shr")

[node name="Wall4" parent="." instance=ExtResource("8_exoib")]
position = Vector2(1060.57, -406.482)
rotation = -1.5708
scale = Vector2(0.19139, 0.955078)

[node name="Wall22" parent="Wall4" instance=ExtResource("8_exoib")]
position = Vector2(1038.15, 127.199)
scale = Vector2(3.61368, 0.47166)

[node name="Sprite2D" type="Sprite2D" parent="Wall4/Wall22"]
position = Vector2(-202.44, -126.327)
rotation = -1.5708
scale = Vector2(16.534, 6.8844)
texture = ExtResource("12_g6san")

[node name="Sprite2D2" type="Sprite2D" parent="Wall4/Wall22/Sprite2D"]
position = Vector2(-8.37236, 53.2371)
rotation = -3.14159
scale = Vector2(0.996903, 1.02995)
texture = ExtResource("12_55shr")

[node name="Sprite2D3" type="Sprite2D" parent="Wall4/Wall22/Sprite2D"]
position = Vector2(25.7189, -11.6654)
rotation = 1.5708
scale = Vector2(0.999338, 0.634782)
texture = ExtResource("12_55shr")

[node name="Wall5" parent="." instance=ExtResource("8_exoib")]
position = Vector2(166, -601)
rotation = -3.14159
scale = Vector2(0.239607, 0.908687)

[node name="Wall22" parent="Wall5" instance=ExtResource("8_exoib")]
position = Vector2(1038.15, 127.199)
scale = Vector2(3.61368, 0.47166)

[node name="Sprite2D" type="Sprite2D" parent="Wall5/Wall22"]
position = Vector2(-202.44, -126.327)
rotation = -1.5708
scale = Vector2(16.534, 6.8844)
texture = ExtResource("12_g6san")

[node name="Sprite2D2" type="Sprite2D" parent="Wall5/Wall22/Sprite2D"]
position = Vector2(-8.37236, 53.2371)
rotation = -3.14159
scale = Vector2(0.996903, 1.02995)
texture = ExtResource("12_55shr")

[node name="Sprite2D3" type="Sprite2D" parent="Wall5/Wall22/Sprite2D"]
position = Vector2(25.7189, -11.6654)
rotation = 1.5708
scale = Vector2(0.999338, 0.634782)
texture = ExtResource("12_55shr")

[node name="Wall6" parent="." instance=ExtResource("8_exoib")]
position = Vector2(300, 781)
rotation = 1.5708
scale = Vector2(0.31968, 1.4065)

[node name="WallTex1" type="Sprite2D" parent="Wall6"]
position = Vector2(0.728971, -168.51)
scale = Vector2(20.5296, 3.41838)
texture = ExtResource("12_55shr")

[node name="WallTex1" type="Sprite2D" parent="Wall6/WallTex1"]
position = Vector2(0.575706, 48.6966)
scale = Vector2(1.01181, 0.980194)
texture = ExtResource("12_mogru")

[node name="WallTex2" type="Sprite2D" parent="Wall6/WallTex1"]
position = Vector2(0.149185, 101.865)
rotation = -3.14159
scale = Vector2(1.00858, 1.00858)
texture = ExtResource("12_55shr")

[node name="Wall7" parent="." instance=ExtResource("8_exoib")]
position = Vector2(573, 122)
scale = Vector2(0.273735, 1.02344)

[node name="WallTex1" type="Sprite2D" parent="Wall7"]
position = Vector2(0.728971, -168.51)
scale = Vector2(20.5296, 3.41838)
texture = ExtResource("12_55shr")

[node name="WallTex1" type="Sprite2D" parent="Wall7/WallTex1"]
position = Vector2(0.575706, 48.6966)
scale = Vector2(1.01181, 0.980194)
texture = ExtResource("12_mogru")

[node name="WallTex2" type="Sprite2D" parent="Wall7/WallTex1"]
position = Vector2(0.149185, 101.865)
rotation = -3.14159
scale = Vector2(1.00858, 1.00858)
texture = ExtResource("12_55shr")

[node name="Wall8" parent="." instance=ExtResource("8_exoib")]
position = Vector2(1283.04, 600.808)
rotation = 3.14159
scale = Vector2(0.189543, 0.733228)

[node name="Wall22" parent="Wall8" instance=ExtResource("8_exoib")]
position = Vector2(-752.793, -141.505)
scale = Vector2(3.30471, 0.395501)

[node name="Sprite2D" type="Sprite2D" parent="Wall8/Wall22"]
position = Vector2(149.374, 185.48)
rotation = 1.5708
scale = Vector2(19.4294, 7.27512)
texture = ExtResource("12_g6san")

[node name="Sprite2D2" type="Sprite2D" parent="Wall8/Wall22/Sprite2D"]
position = Vector2(-8.37236, 53.2371)
rotation = -3.14159
scale = Vector2(0.996903, 1.02995)
texture = ExtResource("12_55shr")

[node name="Sprite2D3" type="Sprite2D" parent="Wall8/Wall22/Sprite2D"]
position = Vector2(25.7189, -11.6654)
rotation = 1.5708
scale = Vector2(0.999338, 0.634782)
texture = ExtResource("12_55shr")

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
follow_viewport_enabled = true

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground"]
position = Vector2(2.08165e-12, 2.08165e-12)
scale = Vector2(2.02222, 2.02222)
texture = ExtResource("15_yu1av")

[connection signal="timeout" from="powerUpTimer" to="." method="_on_power_up_timer_timeout"]
[connection signal="hit" from="Player1" to="Lives/Player1" method="_on_Player1_hit"]
[connection signal="trigger" from="Player1" to="." method="_on_Tank_shoot"]
[connection signal="hit" from="Player2" to="Lives/Player2" method="_on_Player2_hit"]
[connection signal="trigger" from="Player2" to="." method="_on_Tank_shoot"]
[connection signal="player_1_dead" from="Lives/Player1" to="." method="_on_player_1_player_1_dead"]
[connection signal="timeout" from="Lives/Player1/P1DeathTimer" to="Lives/Player1" method="_on_p_1_death_timer_timeout"]
[connection signal="player_dead" from="Lives/Player2" to="." method="_on_player_2_player_dead"]
[connection signal="timeout" from="Lives/Player2/P2DeathTimer" to="Lives/Player2" method="_on_p_2_death_timer_timeout"]
